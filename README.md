# 🪽 論理の飛躍スタンプ拡張機能（ロンリちゃん）

<div align="center">

![ロンリちゃん](https://img.shields.io/badge/version-1.0.0-red?style=for-the-badge)
![License](https://img.shields.io/badge/license-MIT-blue?style=for-the-badge)
![Google Docs](https://img.shields.io/badge/Google%20Docs-Add--on-4285F4?style=for-the-badge&logo=google-docs)

**文章の論理の飛躍を、愛嬌たっぷりにツッコミます**

[📖 使い方](#使い方) • [⚙️ セットアップ](#セットアップ) • [🎨 機能](#機能) • [🚀 デモ](#デモ)

</div>

---

## 📝 概要

「**ロンリちゃん🪽**」は、Google Docsで使える論理の飛躍検出拡張機能です。
AIや人間が生成した文章の中で、論理が飛躍している箇所を自動検出し、
可愛らしい羽のキャラクターが「論理の飛躍」スタンプを押します。

### ✨ 特徴

- 🎯 **自動検出**: 接続詞や文脈から論理の飛躍を検出
- 🎨 **ビジュアル体験**: スタンプを押すアニメーションで楽しく指摘
- 🎲 **遊び心**: ランダム検出で気まぐれにツッコミ
- 📊 **履歴管理**: 押印履歴をサイドバーで確認
- 🎵 **効果音**: 押印時の軽快な音でフィードバック
- 🤖 **AI補助**: OpenAI APIで高度な文脈分析（オプション）

---

## 🚀 セットアップ

### 前提条件

- Googleアカウント
- Google Docsへのアクセス権限
- （オプション）OpenAI API Key（AI検出を使用する場合）

### インストール手順

#### 1. Google Apps Scriptプロジェクトを作成

1. [Google Apps Script](https://script.google.com/)にアクセス
2. 「新しいプロジェクト」をクリック
3. プロジェクト名を「ロンリちゃん」に変更

#### 2. コードをデプロイ

以下のファイルをApps Scriptエディタに追加:

```
プロジェクト構造:
├── appsscript.json
├── Code.gs (メインスクリプト)
├── stamp_animation.html
├── sidebar.html
└── settings.html
```

**ファイルの追加方法:**

1. Apps Scriptエディタで「+」→「スクリプト」または「HTML」を選択
2. このリポジトリの各ファイルの内容をコピー&ペースト
3. ファイル名を正確に設定

#### 3. Google Docsに連携

1. Apps Scriptエディタで「デプロイ」→「新しいデプロイ」
2. 「種類を選択」→「アドオン」
3. 「Google Docs アドオン」を選択
4. デプロイ設定を完了

#### 4. Google Docsで有効化

1. Google Docsで新しいドキュメントを開く
2. 「拡張機能」→「ロンリちゃん」が表示されることを確認
3. 初回実行時に権限を承認

---

## 📖 使い方

### 基本操作

#### 自動検出

1. Google Docsで文章を書く
2. メニューから **「🪽 ロンリちゃん」→「論理の飛躍を検出」** を選択
3. ロンリちゃんが登場し、飛躍箇所にスタンプを押します

#### 手動押印

1. 文章の一部を選択
2. メニューから **「🪽 ロンリちゃん」→「選択範囲に手動で押印」** を選択
3. 選択箇所にスタンプが押されます

#### 押印履歴の確認

1. メニューから **「🪽 ロンリちゃん」→「押印履歴を表示」** を選択
2. サイドバーに押印履歴が表示されます
3. 統計情報（総押印数、平均飛躍度など）も確認可能

---

## 🎨 機能

### コア機能

| 機能 | 説明 |
|---|---|
| **飛躍検出（軽量）** | 正規表現と接続詞解析で論理の飛躍を検出 |
| **ランダム検出** | 5%の確率で気まぐれに飛躍を指摘 |
| **AI補助検出** | OpenAI APIで高度な文脈分析（要API Key） |
| **スタンプアニメーション** | 羽ばたくキャラクターが押印モーション |
| **押印履歴** | 検出ログをサイドバーで管理 |
| **手動押印** | ユーザー主導で任意箇所に押印 |
| **テーマ切替** | 「論理の飛躍🪽」「整いすぎ警報⚙️」など |

### 検出パターン

ロンリちゃんは以下のパターンで論理の飛躍を検出します:

1. **接続詞の飛躍**
   - 「だから」「したがって」「ゆえに」などの論理接続詞
   - 前後の文脈が十分でない場合に検出

2. **断定表現**
   - 「当然」「明らか」「言うまでもなく」などの断定
   - 前提が不明確な場合に指摘

3. **整いすぎ文体**
   - 同じ語尾の繰り返し（AI特有）
   - 型通りすぎる構成

4. **ランダム検出**
   - 設定した確率でランダムに検出
   - 「なんとなく気になりました🪽」などユーモラスな理由

---

## ⚙️ 設定

### 設定画面を開く

メニューから **「🪽 ロンリちゃん」→「設定」** を選択

### 設定項目

#### 🎨 テーマ選択

- **論理の飛躍🪽**: 標準テーマ（赤いスタンプ）
- **整いすぎ警報⚙️**: AI文体向けテーマ

#### 🎲 検出設定

- **ランダム検出率**: 0-20%で調整可能（デフォルト: 5%）
- **効果音**: ON/OFF切り替え

#### 🤖 AI補助検出（オプション）

- **AI検出の有効化**: チェックでON
- **OpenAI API Key**: APIキーを入力
  - GPT-3.5/4を使用した高度な文脈分析
  - 料金が発生する場合があります

---

## 🎯 検出スコア

各検出には **飛躍度（0-100%）** が付与されます:

| スコア | 意味 |
|---|---|
| 80-100% | 明確な論理の飛躍 |
| 60-79% | 飛躍の可能性が高い |
| 40-59% | やや気になる箇所 |
| 20-39% | 気まぐれ検出 |

---

## 🎬 デモ

### スタンプアニメーション

```
[検出中...] → [移動] → [押印!] → [インク飛沫✨] → [完了🪽]
```

### 押印履歴

```
📊 統計
- 総押印数: 12件
- 平均飛躍度: 68%
- 最終押印: 2分前

📝 履歴
┌─────────────────────────────┐
│ だから、この結論に至る...    │
│ 飛躍度: 75% [検出] 5分前     │
└─────────────────────────────┘
```

---

## 🏗️ アーキテクチャ

### モジュール構成

```
/src
 ├── core/
 │   └── detector.js      論理検出エンジン
 ├── ui/
 │   ├── stamp_animation.html  スタンプアニメーション
 │   ├── sidebar.html          押印履歴サイドバー
 │   └── settings.html         設定画面
 └── Code.gs              メインスクリプト
```

### データフロー

```
[Google Docs API]
      ↓
[LogicLeapDetector] → 飛躍検出
      ↓
[スタンプアニメーション] → 視覚化
      ↓
[PropertiesService] → 履歴保存
```

---

## 🔧 技術スタック

- **プラットフォーム**: Google Apps Script
- **API**: Google Docs API, OpenAI API (オプション)
- **言語**: JavaScript (ES6+), HTML5, CSS3
- **アニメーション**: CSS Animations, Web Audio API
- **ストレージ**: PropertiesService (ローカル保存)

---

## 📊 パフォーマンス

- **解析速度**: 10,000文字以内で1秒以内
- **アニメーション**: 60fps で滑らか
- **押印遅延**: 0.5秒以内
- **履歴保存**: 最大100件まで

---

## 🤝 貢献

プルリクエストを歓迎します！

### 開発環境のセットアップ

1. リポジトリをクローン
2. Google Apps Script用のCLI（clasp）をインストール
   ```bash
   npm install -g @google/clasp
   ```
3. プロジェクトをプッシュ
   ```bash
   clasp push
   ```

---

## 📝 ライセンス

MIT License - 自由に使用・改変できます

---

## 🙏 謝辞

このプロジェクトは、AIと人間の協働によって生まれました。
論理的思考と遊び心の両立を目指して開発されています。

---

## 📮 お問い合わせ

- **Issues**: [GitHub Issues](https://github.com/yourusername/logicwing/issues)
- **Twitter**: [@yourhandle](https://twitter.com/yourhandle)

---

<div align="center">

**Made with ❤️ and 🪽**

</div>
